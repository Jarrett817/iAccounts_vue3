import{d as e,r as a,w as s,i as t,u as r,a as o,p as n,b as l,c as d,o as p,e as u,f as i,g as m,t as c,h as g}from"./index.3cf4fa6d.js";import"./vendor.1da3d560.js";var f=e({components:{},props:{type:{type:String,default:""}},setup(e){const n=a({id:"",password:""}),l=r(),d=o(),p=t("reload");return s((()=>e.type),(()=>{p()})),{userInfo:n,onSubmit:async a=>{"register"===e.type?await l.dispatch("registerAsync",a):(await l.dispatch("loginAsync",a),l.state.token&&d.push({path:"/"}))}}}});const y=g("data-v-7631c5a8");n("data-v-7631c5a8");const v={class:"total-wrapper"},b={class:"login-pannel"},h=i("h1",null,"iAccounts",-1),w={style:{margin:"16px"}},I={key:0},V=m(" 还未注册？点击"),_=m("注册"),k={key:1},x=m("已有账号？点击"),A=m("登录");l();const S=y(((e,a,s,t,r,o)=>{const n=d("van-field"),l=d("van-button"),g=d("router-link"),f=d("van-form");return p(),u("div",v,[i("div",b,[h,i(f,{onSubmit:e.onSubmit},{default:y((()=>[i(n,{modelValue:e.userInfo.id,"onUpdate:modelValue":a[1]||(a[1]=a=>e.userInfo.id=a),name:"id",label:"账号",placeholder:"账号",maxLength:"10",autocomplete:"",rules:[{pattern:/^.*(?=.{6,10})/,message:"账号最少6位"},{pattern:/[a-z0-9A-Z]{6,10}/,message:"账号必须由英文字母或数字组成"},{required:!0,message:"请填写账号"}]},null,8,["modelValue","rules"]),i(n,{modelValue:e.userInfo.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.userInfo.password=a),type:"password",name:"password",label:"密码",placeholder:"密码",maxLength:"14",autocomplete:"",rules:[{pattern:/^.*(?=.{6,10})/,message:"密码最少6位"},{pattern:/^.*(?=.*\d)(?=.*[A-Za-z])(?=.*[@!#$%^&*?]).*$/,message:"密码至少包括1个英文字母，1个数字，1个特殊字符"},{required:!0,message:"请填写密码"}]},null,8,["modelValue","rules"]),i("div",w,[i(l,{round:"",block:"",type:"primary","native-type":"submit"},{default:y((()=>[m(c("register"===e.type?"注册":"登录"),1)])),_:1})]),"register"!==e.type?(p(),u("p",I,[V,i(g,{to:{name:"login",params:{type:"register"}}},{default:y((()=>[_])),_:1})])):(p(),u("p",k,[x,i(g,{to:{name:"login"}},{default:y((()=>[A])),_:1})]))])),_:1},8,["onSubmit"])])])}));f.render=S,f.__scopeId="data-v-7631c5a8";export default f;
